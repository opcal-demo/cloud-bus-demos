namespace: opcal-infrastructure
dev:
  dev-cloud-bus-demos:
    image: ghcr.io/opcal/eclipse-temurin:17-jdk
    command: bash
    autocreate: true
    environment:
      TZ: $TIMEZONE
      PROJECT_DIR: /app
      DOCKER_TLS_VERIFY: 0
      DOCKER_HOST: tcp://dind-node-0.dind.jenkins.svc.cluster.local:2375
      DOCKER_TLS_CERTDIR: ""
    externalVolumes:
      - infra-maven-cache:/root/.m2
    workdir: /app
    sync:
      - ../:/app
    forward:
      - 8080:8080
      - 9090:9090
      - 5000:5000
    persistentVolume: 
      enabled: false
    nodeSelector:
      category: builder